webpackJsonp([2],[,,,,,,,,,,function(t,e,n){"use strict";function r(t){var e=n.i(c.a)(),r=n.i(u.a)();return n.i(a.sync)(e,r),{app:new i.a({router:r,store:e,ssrContext:t,render:function(t){return t(s.a)}}),router:r,store:e}}e.a=r;var i=n(1),o=n(51),s=n.n(o),c=n(38),u=n(35),a=n(56),f=(n.n(a),n(40)),l=n(14);i.a.mixin(f.a),Object.keys(l).forEach(function(t){i.a.filter(t,l[t])})},,function(t,e,n){function r(t){n(45)}var i=n(3)(n(41),n(52),r,"data-v-64107aac",null);t.exports=i.exports},function(t,e,n){"use strict";function r(){c((d.cachedIds.top||[]).slice(0,30)),setTimeout(r,9e5)}function i(t){h&&console.log("fetching "+t+"...");var e=d.cachedItems;return e&&e.has(t)?(h&&console.log("cache hit for "+t+"."),Promise.resolve(e.get(t))):new Promise(function(n,r){d.$get(d.url+t+".json").then(function(r){var i=r;i&&(i.__lastUpdate=Date.now()),e&&e.set(t,i),h&&console.log("fetched "+t+"."),n(i)}).catch(r)})}function o(t){return d.cachedIds&&d.cachedIds[t]?Promise.resolve(d.cachedIds[t]):i(t+"stories")}function s(t){return i("item/"+t)}function c(t){return Promise.all(t.map(function(t){return s(t)}))}function u(t,e){return i(t+"/"+e)}function a(t){return i("user/"+t)}function f(t,e){function n(){r?r=!1:d.$get(""+d.url+t+"stories.json").then(s),i&&(o=setTimeout(n,9e5))}var r=!0,i=!0,o=null,s=function(t){e(t)};return n(),function(){i=!1,o&&clearTimeout(o)}}e.b=o,e.c=c,e.d=u,e.e=a,e.a=f;var l=n(33),h=!0,d=n.i(l.a)({version:"/v0",config:{url:"http://127.0.0.1:8089"}});d.onServer&&r()},function(t,e,n){"use strict";function r(t){var e=t.replace(/^https?:\/\//,"").replace(/\/.*$/,""),n=e.split(".").slice(-3);return"www"===n[0]&&n.shift(),n.join(".")}function i(t){var e=Date.now()/1e3-+t;return e<3600?o(~~(e/60),"分钟"):e<86400?o(~~(e/3600),"小时"):o(~~(e/86400),"天")}function o(t,e){return 1===t?t+e:t+e+"s"}Object.defineProperty(e,"__esModule",{value:!0}),e.host=r,e.timeAgo=i},,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function r(t){t.config,t.version;return{url:"/api/",$get:function(t){return o.a.get(t).then(function(t){return Promise.resolve(t.data)})},$post:function(t,e){return o.a.post(t,e).then(function(t){return Promise.resolve(t.data)})}}}e.a=r;var i=n(15),o=n.n(i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(11),o=(n.n(i),n(10)),s=n(12),c=n.n(s),u=r.a.prototype.$bar=new r.a(c.a).$mount();document.body.appendChild(u.$el);var a=n.i(o.a)(),f=a.app,l=a.router,h=a.store;window.__INITIAL_STATE__&&h.replaceState(window.__INITIAL_STATE__),l.onReady(function(){f.$mount("#app")}),"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js")},function(t,e,n){"use strict";function r(){return new o.a({mode:"history",scrollBehavior:function(){return{y:0}},routes:[{path:"/top/:page(\\d+)?",component:s("top")},{path:"/new/:page(\\d+)?",component:s("new")},{path:"/",redirect:"/top"}]})}e.a=r;var i=n(1),o=n(54);i.a.use(o.a);var s=function(t){return function(){return n.e(0).then(n.bind(null,60)).then(function(e){return e.default(t)})}}},function(t,e,n){"use strict";var r=n(13);e.a={FETCH_LIST_DATA:function(t,e){var i=t.commit,o=t.dispatch,s=(t.state,e.type);return i("SET_ACTIVE_TYPE",{type:s}),n.i(r.b)(s).then(function(t){return i("SET_LIST",{type:s,ids:t})}).then(function(){return o("ENSURE_ACTIVE_ITEMS")})},ENSURE_ACTIVE_ITEMS:function(t){return(0,t.dispatch)("FETCH_ITEMS",{ids:t.getters.activeIds})},FETCH_ITEMS:function(t,e){var i=t.commit,o=t.state,s=e.ids,c=Date.now();return s=s.filter(function(t){var e=o.items[t];return!e||c-e.__lastUpdated>18e4}),s.length?n.i(r.c)(s).then(function(t){return i("SET_ITEMS",{items:t})}):Promise.resolve()},FETCH_PAGE:function(t,e){var i=t.commit,o=e.type,s=e.page;return n.i(r.d)(o,s).then(function(t){return i("SET_ITEMS",{items:t})})},FETCH_USER:function(t,e){var i=t.commit,o=t.state,s=e.id;return o.users[s]?Promise.resolve(o.users[s]):n.i(r.e)(s).then(function(t){return i("SET_USER",{user:t})})}}},function(t,e,n){"use strict";e.a={activeIds:function(t){var e=t.activeType,n=t.itemsPerPage,r=t.lists,i=+t.route.params.page||1;if(e){var o=(i-1)*n,s=i*n;return r[e].slice(o,s)}return[]},activeItems:function(t,e){return e.activeIds.map(function(e){return t.items[e]}).filter(function(t){return t})}}},function(t,e,n){"use strict";function r(){return new o.a.Store({state:{activeType:null,itemsPerPage:20,items:{},users:{},lists:{top:[],new:[]}},actions:s.a,mutations:c.a,getters:u.a})}e.a=r;var i=n(1),o=n(57),s=n(36),c=n(39),u=n(37);i.a.use(o.a)},function(t,e,n){"use strict";var r=n(1);e.a={SET_ACTIVE_TYPE:function(t,e){var n=e.type;t.activeType=n},SET_LIST:function(t,e){var n=e.type,r=e.ids;t.lists[n]=r},SET_ITEMS:function(t,e){e.items.forEach(function(e){e&&r.a.set(t.items,e.id,e)})},SET_USER:function(t,e){var n=e.user;r.a.set(t.users,n.id,n)}}},function(t,e,n){"use strict";function r(t){var e=t.$options.title;if(e)return"function"==typeof e?e.call(t):e}var i={mounted:function(){var t=r(this);t&&(document.title="Vue HN 2.0 | "+t)}};e.a=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{percent:0,show:!1,canSuccess:!0,duration:3e3,height:"2px",color:"#ffca2b",failedColor:"#f00"}},methods:{start:function(){var t=this;return this.show=!0,this.canSuccess=!0,this._timer&&(clearInterval(this._timer),this.percent=0),this._cut=1e4/Math.floor(this.duration),this._timer=setInterval(function(){t.increase(t._cut*Math.random()),t.percent>95&&t.finish()},100),this},set:function(t){return this.show=!0,this.canSuccess=!0,this.percent=Math.floor(t),this},get:function(){return Math.floor(this.percent)},increase:function(t){return this.percent=this.percent+Math.floor(t),this},decrease:function(t){return this.percent=this.percent-Math.floor(t),this},finish:function(){return this.percent=100,this.hide(),this},hide:function(){var t=this;return clearInterval(this._timer),this._timer=null,setTimeout(function(){t.show=!1,t.$nextTick(function(){setTimeout(function(){t.percent=0},200)})},500),this},fail:function(){return this.canSuccess=!1,this}}}},,,,function(t,e){},function(t,e){},,,,function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUNDN0FFMUVFRjM3MTFFNkEwNjBGOTgyMDhEODA2ODAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUNDN0FFMUZFRjM3MTFFNkEwNjBGOTgyMDhEODA2ODAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQ0M3QUUxQ0VGMzcxMUU2QTA2MEY5ODIwOEQ4MDY4MCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQ0M3QUUxREVGMzcxMUU2QTA2MEY5ODIwOEQ4MDY4MCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Ps0i2mQAAADlSURBVHja7NkxDsIwDAVQp7JYYYWRWzBwE2Y4AndgZyjXQeotWDuzgpCC2DJB0nxXVvkZuvbV33KUNMQYxdPSz+MQvHDa2IizRRBBBP0dSH9OKvw7v85hRja5HoLsu6de5ksQCLGBF31h40pjDEo1r2dm+jaRHTtZb4Y1onqIyTKyOg0aVK3BRbZrZbuHTC91UhhcZFBNNSjVXC+QfUadFKauQmaaQSBLTTko1dw6i0uB7B46P0RndoUpBBnHVBjZiJoMUKq59yPcJJXMocUKc0zjuYznMkZGEEEETRoUvP2eegswAHXlO9F1kQsvAAAAAElFTkSuQmCC"},function(t,e,n){function r(t){n(46)}var i=n(3)(null,n(53),r,null,null);t.exports=i.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"progress",style:{width:t.percent+"%",height:t.height,"background-color":t.canSuccess?t.color:t.failedColor,opacity:t.show?1:0}})},staticRenderFns:[]}},function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("header",{staticClass:"header"},[r("nav",{staticClass:"inner"},[r("router-link",{attrs:{to:"/",exact:""}},[r("img",{staticClass:"logo",attrs:{src:n(50),alt:"zeromake"}})]),r("router-link",{attrs:{to:"/top"}},[t._v("Top")]),r("router-link",{attrs:{to:"/new"}},[t._v("New")]),r("a",{staticClass:"github",attrs:{href:"https://github.com/zeromake/my-vue-hackernews",target:"_blank",rel:"noopener"}},[t._v("\n          Built with zeromake\n        ")])],1)]),r("transition",{attrs:{name:"fade",mode:"out-in"}},[r("router-view",{staticClass:"view"})],1)],1)},staticRenderFns:[]}}],[34]);